{% extends 'base.html' %}

{% block title %} Add Book {% endblock %}

{% block content %}
  
  <div class="container mt-4">
    <h1 class="mb-4">Add Book</h1>
    
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        
        <div class="mb-3">
            <label for="name" class="form-label">Name</label>
            <input type="text" name="name" class="form-control" id="name" required>
        </div>
        
        <div class="mb-3">
            <label for="author" class="form-label">Author 
                <small>(select or <a href="{% url 'author_add' %}">add</a>)</small>
            </label>
            <select name="author" class="form-control" id="author" multiple>
                {% for author in authors %}
                    <option value="{{ author.id }}">{{ author.name }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="mb-3">
            <label for="category" class="form-label">Category 
                <small>(select or <a href="{% url 'category_add' %}">add</a>)</small>
            </label>
            <select name="category" class="form-control" id="category">
                {% for category in categories %}
                    <option value="{{ category.id }}">{{ category.name }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="mb-3">
            <label for="edition" class="form-label">Edition</label>
            <input type="text" name="edition" class="form-control" id="edition" required>
        </div>
        
        <div class="mb-3">
            <label for="publisher" class="form-label">Publisher 
                <small>(select or <a href="{% url 'publisher_add' %}">add</a>)</small>
            </label>
            <select name="publisher" class="form-control" id="publisher">
                {% for publisher in publishers %}
                    <option value="{{ publisher.id }}">{{ publisher.name }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="mb-3">
            <label for="publication_year" class="form-label">Publication Year</label>
            <input type="text" name="publication_year" class="form-control" id="publication_year" required>
        </div>
        
        <div class="mb-3">
            <label for="isbn" class="form-label">ISBN</label>
            <input type="text" name="isbn" class="form-control" id="isbn" required>
        </div>
        
        <div class="mb-3">
            <label for="language" class="form-label">Language 
                <small>(select or <a href="{% url 'language_add' %}">add</a>)</small>
            </label>
            <select name="language" class="form-control" id="language">
                {% for language in languages %}
                    <option value="{{ language.id }}">{{ language.name }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="mb-3">
            <label for="pages" class="form-label">Pages</label>
            <input type="text" name="pages" class="form-control" id="pages" required>
        </div>
        
        <div class="mb-3">
            <label for="description" class="form-label">Description</label>
            <textarea name="description" class="form-control" id="description"></textarea>
        </div>
        
        <div class="mb-3">
            <label for="book_file" class="form-label">Book File</label>
            <input type="file" name="book_file" class="form-control" id="book_file" required>
        </div>
        <div class="d-flex justify-content-between">
            <button type="submit" class="btn btn-primary">Save</button>
            <a href="{% url 'book_list' %}" class="btn btn-secondary ms-2">Cancel</a>
        </div>
    </form>
  </div>

{% endblock %}
